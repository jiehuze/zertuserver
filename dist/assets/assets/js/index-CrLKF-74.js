import{r as e,k as s,J as a,af as l,a4 as c}from"./.pnpm-m9xz9NSi.js";import{g as n,s as t}from"./test-V5bXUQ6Y.js";import"./index-CgyQBtc4.js";const d=()=>{const[d,r]=e.useState("启动"),[i,m]=e.useState([{key:"1",label:"距离",children:"150m"},{key:"2",label:"水深",children:"2m"},{key:"3",label:"流速",children:"3m/s"},{key:"4",label:"水底",children:"0.8"},{key:"5",label:"水面",children:"0.2"}]),o=()=>{n().then((e=>{i[0].children=e.data.distance+"m",i[1].children=e.data.depth+"m",i[2].children=e.data.speed+"m/s",i[3].children=e.data.bottom+"m",i[4].children=e.data.surface+"m",m([...i])}))};e.useEffect((()=>{o();const e=setInterval((()=>{o()}),1e4);return()=>{clearInterval(e)}}),[]);const h=e=>()=>{t({direct:e}).then((e=>{200==e.code&&c.success("操作成功")}))};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex",children:[s.jsxs("div",{className:"controlBox",children:[s.jsx("div",{className:"control",children:s.jsx("div",{className:"btn",onClick:h("up"),children:"▲"})}),s.jsxs("div",{className:"control middle",children:[s.jsx("div",{className:"btn",children:"前进"}),s.jsx("div",{className:"btn start",onClick:()=>{r("启动"===d?"停止":"启动")},children:d}),s.jsx("div",{className:"btn",children:"后退"})]}),s.jsx("div",{className:"control",children:s.jsx("div",{className:"btn",onClick:h("down"),children:"▼"})})]}),s.jsx(a,{type:"primary",children:"复位"})]}),s.jsx(l,{title:"数据展示",items:i})]})};export{d as default};
